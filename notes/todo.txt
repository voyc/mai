

db testing starts with sequence ids here
	select * from mai.mean where id > 1365;
	select * from mai.dict where id > 1465;

specify language requirement on each field
	allow only thai in thai field, and components
	allow only eng in other fields

refresh fastdict, in dictionary
	after db update, set a dirty flag
	download a new copy of the fastdict
		before the next lookup
		or after one minute

rearrange vowel components
	reverse fc and tm

after parse
	send object to server
	process it
		lookup words, phrases, multiple meanings
	save it
	return updated object to client (now ready for drills)

lookup vs search vs getdict
	dict, alphabet, vowels, expressions, phrases, grammars
	lookup returns single item
	search returns array of multiple items, deprecate but in use
	getdict takes input array of ids, outputs a mini-dict with dict/mean

sam search calls cmdLookup calls dictionary.searchx calls svc-getdict

in dictionary.js, 
	searchx calls getdict svc
	search has been commented out, it used the old client-side dict
		translate() and translit() are now broken

noam calls dictionary.search 
	all broken

search.php and getdict.php are identical
	sam calls dictionary.searchx

should be
	sam search calls cmdSearch calls dictionary.search calls svc-search
	sam parse calls cmdParse calls dictionary.parse calls svc-getdict

step 1.  rename current to search
	x sam cmdLookup -> cmdSearch
	x dictionary.searchx -> dictionary.search
	x dictionary.get-dict -> search
step 2.  re-implement getdict to support parse

implement up/down arrow in chat window, for mobile also

prep
	call server
		save story, insert or update, by username
		first line is name and key of story
		lookup all words
		in word object, replace id and tl with dict/mean

show lines
	insert color-coding html to identify errors and multi-meanings
	when the user clicks on an error, give a popup to let him correct the typo, or edit a new word
	when the user clicks on a multi-meaning, give him a popup to let him choose the meaning
		add the numdef to the where object
	add numdef to where-section of words array
	separate words
	allow lookup on each word
	show eng along with thai

prep
	update server with user's numdef contributions

==============================
chat commands, part of sam.js documentation

developer
kill
__reload dictionary
__reload alphabet
show alphabet
search -glyph <letter thai>
search -glyph <letter english>
search <word>

author
parse -syllable <word>
parse <story>
show (parse results) summary
show (parse results) words
show (parse results) -new words
show (parse results) errors
show (parse results) lines
show (parse results) -hint lines
prep
edit <word>
edit -new <word>

student
drill
==============================

map object structure

voyc.editor, instantiated by sam, points to observer and noam
sam, instantiated by ?, points to chat
sam.vocab, instantiated by sam
voyc.dictionary, instantiated by sam and noam
voyc.sengen, instantiated by sam
noam?

globals - instantiated by mai, used by anyone
voyc.observer
voyc.comm

globals - instantiated by mai, read database during setup
voyc.dictionary
voyc.alphabet, used by noam, uses observer and comm
voyc.vocab
==================
noam.html - bring all these tests into sam chat, then remove noam.html
test1 - ไมตรี
	noam.parse -> noam.parseStory -> noam.parseString 
	return an array of word objects, each word object has dict or false

x parse -syllable ไม
x parse -syllable ตรี
x parse -string ไมตรี
x edit ไม : save (update)
x edit -new ตรี : save (insert)
x edit -new ไมตรี : save (insert)

=====================================

postreq
	reimplement sengen
	include sengen within noam?
		noam::parse() 400 lines
		noam::collectWords() 75 lines
		sengen::genSentence() 300 lines
		sengen::constructor incl buildSemantics() 40 lines
	noam.js
	parse.js
	sengen.js
	grammar.js

vet level 
	count glyphs total vs mastered, flag missing from dict
	count words total vs mastered, flag missing from dict

determine appropriateness of a course-level-story
	count glyphs, new vs mastered
	count words, new vs mastered
	when.  when drawing courselist?

globalization
	string management
		all strings must be held in two languages
		if mastered, display in thai
		else display in english
	optional implementation: to display any page
		find texts on the page (always english)
		translate to thai
		lookup in vocab
		if in vocab, use thai

names in conversations
	aka dialogs 
	most common thai nicknames
	persons:
		self: name, age, gender
		other: name, age, gender
		third: name, age, gender
	functions:
		@polite (depends on gender of speaker)
		@person('self', 'name')
		@person('self', 'age')
		@person('self', 'gender')
		@person('other', 'name')
		@person('other', 'age')
		@person('other', 'gender')
		@person('third', 'name')
		@person('third', 'age')
		@person('third', 'gender')
		@person('self', 'name'): สวัส ดี่ [@polite]

hints and usage in chat window

keyboard vs chart
	rename keyboard to chart
	rename keyboard2 to keyboard
	delete all files with 2 in the name
	delete other unused files:
		lesson.js


compose answer
	grammar keyboard digits undefined
	ไหม maiR part isn't it?

db
	สวัส swatL noun good-fortune

groups
	language
	online marketing
	technology, javascript, php, ajax

=========================

psql -U voyccom_jhagstrand -d voyccom_mai -c "select id, thai, translit, tone, eng from  mai.thaidict where substring(thai,1,1) = 'ห' and type = 'o';"
translit for leading ห
	หก go
	หมด mdoL
 1198 | หยด  | ydo      | L    | o            | หยด              |                |   400 | 
 1199 | หยด 

ผม pmoL noun hair pomR
สวัส swatL noun good-fortune  2 syllables
review between lessons
during word-reverse, nope try again requires hints
tired, beef, alike are too advanced for keyboard lesson
add tone buttons to reply (also add speech)

On refresh how long has it been?  check recency

lesson 3 ring fingers and pinkies, phrase: hair beautiful

write dynamic translit function in Dictionary or Noam.  Current translit function in Dictionary is static.

consonant cluster after leading upright vowel, positions reversed

consonant cluster, inherent short a, two syllables
	if first consonant high and second low, low becomes high
	examples tanon, kanom, samud

silent tone mark
	เกณฑ์

silent i on final consonant
	examples Suvarnabhumi, Bhumibol

loi, at all

trailing อ
	ถือ
	มือ
	ชื่อ
	หนังสือ	

อ = aw or silent, is it in position of vowel or consonant?
lc = อ, consonant placeholder, skip translit of lc, vowel only
psql -U voyccom_jhagstrand -d voyccom_mai -c "select * from  mai.thaidict where substring(thai,1,1) = 'อ';"
เอก 1268
เอง  1269


psql -U voyccom_jhagstrand -d voyccom_mai -c "select id, thai, level, details from mai.thaidict where pos = '' and eng = '' and details != '';"




parse
pos, eng
translit table: given lc, vp, fc, tn per syllable; what about multi-syllable words?
implement translit as separate function
if there is a final consonant, there must also be an endx rule


translit of lc comes from dictionary
translit of fc comes from rules
translit of vowels comes from vowel pattern table
tone calculation can be fixed
translit can be table driven and customizeable
add รร to vowel pattern table
translit table


consonant cluster, presence of tonemark unclusters these consonants
final cluster nt, t has to be silent because n as already stopped the sound
 m    |            2 | จันทร์    | n   | Moon        |  347

ditto dri is final cluster, d stops the sound ri is silent
 m    |            2 | กษัตริย์   | n   | king        |  154

weird, what is the h doing in here
 m    |            2 | พราหมณ์  | n   | Brahman     |  787


ทรัพย์
จันทร์
ราษฎร์
พราหมณ์
เบอร์
จอห์น

ทรัพย์	sapH	tr => s
จันทร์	janM	fc is cluster of two
ราษฎร์	raatF	fc is cluster of two
เบอร์	buuhrM	pronunciation?
พราหมณ์	phraamM		leading cluster pr, final cluster silent h+m, silent mark
จอห์น	jaawnM	silent consonant is NOT the last letter in the word




เบื้อง  - prefix, what type, what pos?


Profile includes goals:
Speaking, listening, reading, typing, hand-writing

สวัสดีค่ะ
วันนี้คุณเป็นยังไงบ้างคะ
ทำอะไรอยู่

Lesson expressions 
create a structure.
Generate the page from the structure.
Allow the drill from the page and structure.

Collect one word for each letter.Generate a new sentence for each word. Do not try to save or score the sentences, but only the target word within the sentence.
The sentence should contain all mastered words except for one target word.

Geography
Rivers
Mountains
Cities
Islands
Provinces
Neighboring countries

Biology, Chemistry, Physics, Psychology

mai.voyc
Gradually change the UI buttons to use Thai instead of English, as the user masters each button label word.
come up with thai names for sam and lee
Setup voyc.com emails for Sam and Naiyana.

====================================
Marketing

chiang mai groups:
online marketing
dev tech
graphic design
language learning

marketing:
Statistics show
Students learn more faster , enjoy it more, an stick with it. Students are more likely to come to Thailand, enjoy it more, stay longer.
Coaches earn more money, get more clients, and clients stay longer and are more satisfied.
Statistics show
Students learn more faster , enjoy it more, an stick with it. Students are more likely to come to Thailand, enjoy it more, stay longer.
Coaches earn more money, get more clients, and clients stay longer and are more satisfied.
Stimulate the economy.
Increase revenue for coaches 
More tourism among students.
Reviews
Comments
Contact, chat
Customer relations 
Newsletter
SEO
Social media
Lead management
Advertising
Hubspot
Click funnels
Digital nomad meetings



