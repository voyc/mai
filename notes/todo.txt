
users
john@hagstrand.com
john@voyc.com
ninghillside/ning/hillside/bvyznrw@sharklasers.com
samantha/samantha/ptwjqoda@sharklasers.com

subcomponents
	account: register, validate name and password doesnt match between client and server
	minimal: fixopen, learn how to position a popup
	jslib: chat-post, other new functions

db testing starts with sequence ids here
	select * from mai.mean where id > 1365;
	select * from mai.dict where id > 1465;

specify language requirement on each field
	allow only thai in thai field, and components
	allow only eng in other fields

refresh fastdict, in dictionary
	after db update, set a dirty flag
	download a new copy of the fastdict
		before the next lookup
		or after one minute

rearrange vowel components
	reverse fc and tm

noam translate and translit are broken because of new search

implement up/down arrow in chat window, for mobile also

implement story page, with search and browse

implement dictionary page, with search and browse

keyboard
	uppercase
	learning: Homekeys,etc, known/new
	alphabet consonants
	alphabet vowel patterns

show components, expressions
drill components, expressions, lines, phrases

in story parse, replace pronouns with grammar codes
	in story draw, replace grammar codes with pronouns, depending on speaker age and gender
	allow this draw during drill lines, as well as show lines

add english translation to stories
	separated by ~
	change "original" to "raw"
	parse t and e out of raw
	side-by-side view (float left,right) vs replacement view

story/line view buttons
	Side by side
	Thai
	Eng
	ww
	Hints
	Tones
	Translit
	Speaker

learn syllable tone, add tone buttons to reply (also add speech)

draw pos with multi pos values, or eliminate multi pos
	in drill answer, multiple pos, จอง jaawngM undefined reserve, pos=nv, noun,verb
	search, show, cannot display multiple pos 

drill
	handle end of set, empty set, says "Let's do another set." when there's no more sets
	in answer, show hint depending on step
	continue

groups
	glyphs, vowel patterns, lc, fc, tone marks
	syllables
	components
	words
	phrases/expressions
	lines

start with one line
	count syllables+words+phrases+lines
	add another line
	stop when number of drill items meets threshold

show -hint lines, mouse clicks slow
	separate display useless, need hints together with raw
		consider popup
	button on float right doesn't work

x editor, parse type-m, doesn't work
	blank display, no js error

imlement add-translation button

when re-parse finds โชคดี instead of โชค and ดี
	the locs for that line are now incorrect
	word index and text index are both wrong
	dictionary has changed, story has not
	story.lines.words does not match story.words
	reconcile parsed words, story.words vs story.lines.words
		current problem: two words combined into one
			tndx is the same, wndx is different
			solution: change wndx
	if lines change or words are inserted or removed, tndx is not the same
	if word is the same, we might assume it should retain the same meaning
	important thing is to get word.locs matched up
	if word meaning should be different, author must click on it and change it
	signal a need for review
	color-code for "needs review" shown in author mode
		this requires another field in the loc
		also a field in the story record

	x (cannot) change original to raw
	x add meta to db
	support comma as spacer
	x support ~ to separate th and en
	show lines: hint button: display english version 
	Lowercase command processor
	click pencil in story line view
	combine author and hint (you sure?)

click hints button sometimes acts as two-state button, stays down, no change mouse is rolled off the button

x dictionary content
	x Na
	x Ka
	x Krab

pronunciation rules vs grammar rules

====================================

dictionary content
	how many ordinals to put in dictionary as separate words

grammar content
	phrases: drive car, drive bus, ride horse, ride motorcycle, ascend airplane, sit car
	she say that you come from america.
	{pronoun} {say,hear,think} ว่า {person} มา จาก {country}
	where you come from?
	maybe he come from china. do you think so?

====================================
organization
	reference
		alphabet
			consonants
			vowel patterns
			digits
			symbols
			keyboard, typing tutor
		dictionary
			phrase book, expressions
			gazetteer, place names
			who's who, proper names?
		lessons
			grammar
			pronunciation
			numbers
			calendar/clock
	stories
		encyclopedia
		conversations
		news stories
		songs
		essays
		poems

====================================
server-side analysis

Calculate appropriateness of a story for a user
	number of known words
	number of new words
	new/total
	easy, sweet, hard

read all the stories
	make a table counting words/meanings
	find highest use count, and lowest use count
	interpolate an index from 0 to 100 for each use count
	store count and level for all words in dict
	
Show stories List, title, num words, num new, average level

split out components and syllables, on the server, allow drill on those

===================================
chat command help

part of sam.js documentation

developer
kill
__reload dictionary, fastdict, minidict, auto after relevant update
	reload fastdict and minidict after insert or update dict/mean
	set dirty flag after edit
__reload alphabet
show alphabet
search -glyph <letter thai>
search -glyph <letter english>
search <word>

author
parse -syllable <word>

list
read <n>
parse <story>
replace
save

show (parse results) summary
show (parse results) words
show (parse results) -new words
show (parse results) errors
show (parse results) lines
show (parse results) -hint lines

edit <word>
edit -new <word>

student
drill -new words
quit

==============================

map object structure

voyc.editor, instantiated by sam, points to observer and noam
sam, instantiated by ?, points to chat
sam.vocab, instantiated by sam
voyc.dictionary, instantiated by sam and noam
voyc.sengen, instantiated by sam
noam?

globals - instantiated by mai, used by anyone
voyc.observer
voyc.comm

globals - instantiated by mai, read database during setup
voyc.dictionary
voyc.alphabet, used by noam, uses observer and comm
voyc.vocab


data structures:
flat
dict
mean
loc
word

==================
automated test suite

compare chat window to baseline

noam.html - bring all these tests into sam chat, then remove noam.html
test1 - ไมตรี
	noam.parse -> noam.parseStory -> noam.parseString 
	return an array of word objects, each word object has dict or false

x parse -syllable ไม
x parse -syllable ตรี
x parse -string ไมตรี
x edit ไม : save (update)
x edit -new ตรี : save (insert)
x edit -new ไมตรี : save (insert)

=====================================

postreq
	reimplement sengen
	include sengen within noam?
		noam::parse() 400 lines
		noam::collectWords() 75 lines
		sengen::genSentence() 300 lines
		sengen::constructor incl buildSemantics() 40 lines
	noam.js
	parse.js
	sengen.js
	grammar.js

vet level 
	count glyphs total vs mastered, flag missing from dict
	count words total vs mastered, flag missing from dict

determine appropriateness of a course-level-story
	count glyphs, new vs mastered
	count words, new vs mastered
	when.  when drawing courselist?

globalization
	string management
		all strings must be held in two languages
		if mastered, display in thai
		else display in english
	optional implementation: to display any page
		find texts on the page (always english)
		translate to thai
		lookup in vocab
		if in vocab, use thai

names in conversations
	aka dialogs 
	most common thai nicknames
	persons:
		self: name, age, gender
		other: name, age, gender
		third: name, age, gender
	functions:
		@polite (depends on gender of speaker)
		@person('self', 'name')
		@person('self', 'age')
		@person('self', 'gender')
		@person('other', 'name')
		@person('other', 'age')
		@person('other', 'gender')
		@person('third', 'name')
		@person('third', 'age')
		@person('third', 'gender')
		@person('self', 'name'): สวัส ดี่ [@polite]

hints and usage in chat window

keyboard vs chart
	rename keyboard to chart
	rename keyboard2 to keyboard
	delete all files with 2 in the name
	delete other unused files:
		lesson.js


compose answer
	grammar keyboard digits undefined
	ไหม maiR part isn't it?

db
	สวัส swatL noun good-fortune

groups
	language
	online marketing
	technology, javascript, php, ajax

=========================

psql -U voyccom_jhagstrand -d voyccom_mai -c "select id, thai, translit, tone, eng from  mai.thaidict where substring(thai,1,1) = 'ห' and type = 'o';"
translit for leading ห
	หก go
	หมด mdoL
 1198 | หยด  | ydo      | L    | o            | หยด              |                |   400 | 
 1199 | หยด 

ผม pmoL noun hair pomR
สวัส swatL noun good-fortune  2 syllables
review between lessons
tired, beef, alike are too advanced for keyboard lesson

On refresh how long has it been?  check recency

lesson 3 ring fingers and pinkies, phrase: hair beautiful

write dynamic translit function in Dictionary or Noam.  Current translit function in Dictionary is static.

consonant cluster after leading upright vowel, positions reversed

consonant cluster, inherent short a, two syllables
	if first consonant high and second low, low becomes high
	examples tanon, kanom, samud

silent tone mark
	เกณฑ์

silent i on final consonant
	examples Suvarnabhumi, Bhumibol

loi, at all

trailing อ
	ถือ
	มือ
	ชื่อ
	หนังสือ	

อ = aw or silent, is it in position of vowel or consonant?
lc = อ, consonant placeholder, skip translit of lc, vowel only
psql -U voyccom_jhagstrand -d voyccom_mai -c "select * from  mai.thaidict where substring(thai,1,1) = 'อ';"
เอก 1268
เอง  1269


psql -U voyccom_jhagstrand -d voyccom_mai -c "select id, thai, level, details from mai.thaidict where pos = '' and eng = '' and details != '';"




parse
pos, eng
translit table: given lc, vp, fc, tn per syllable; what about multi-syllable words?
implement translit as separate function
if there is a final consonant, there must also be an endx rule


translit of lc comes from dictionary
translit of fc comes from rules
translit of vowels comes from vowel pattern table
tone calculation can be fixed
translit can be table driven and customizeable
add รร to vowel pattern table
translit table


consonant cluster, presence of tonemark unclusters these consonants
final cluster nt, t has to be silent because n as already stopped the sound
 m    |            2 | จันทร์    | n   | Moon        |  347

ditto dri is final cluster, d stops the sound ri is silent
 m    |            2 | กษัตริย์   | n   | king        |  154

weird, what is the h doing in here
 m    |            2 | พราหมณ์  | n   | Brahman     |  787


ทรัพย์
จันทร์
ราษฎร์
พราหมณ์
เบอร์
จอห์น

ทรัพย์	sapH	tr => s
จันทร์	janM	fc is cluster of two
ราษฎร์	raatF	fc is cluster of two
เบอร์	buuhrM	pronunciation?
พราหมณ์	phraamM		leading cluster pr, final cluster silent h+m, silent mark
จอห์น	jaawnM	silent consonant is NOT the last letter in the word




เบื้อง  - prefix, what type, what pos?


Profile includes goals:
Speaking, listening, reading, typing, hand-writing

สวัสดีค่ะ
วันนี้คุณเป็นยังไงบ้างคะ
ทำอะไรอยู่

Lesson expressions 
create a structure.
Generate the page from the structure.
Allow the drill from the page and structure.

Collect one word for each letter.Generate a new sentence for each word. Do not try to save or score the sentences, but only the target word within the sentence.
The sentence should contain all mastered words except for one target word.

Geography
Rivers
Mountains
Cities
Islands
Provinces
Neighboring countries

Biology, Chemistry, Physics, Psychology

mai.voyc
Gradually change the UI buttons to use Thai instead of English, as the user masters each button label word.
come up with thai names for sam and lee
Setup voyc.com emails for Sam and Naiyana.

====================================
Marketing

chiang mai groups:
online marketing
dev tech
graphic design
language learning

marketing:
Statistics show
Students learn more faster , enjoy it more, an stick with it. Students are more likely to come to Thailand, enjoy it more, stay longer.
Coaches earn more money, get more clients, and clients stay longer and are more satisfied.
Statistics show
Students learn more faster , enjoy it more, an stick with it. Students are more likely to come to Thailand, enjoy it more, stay longer.
Coaches earn more money, get more clients, and clients stay longer and are more satisfied.
Stimulate the economy.
Increase revenue for coaches 
More tourism among students.
Reviews
Comments
Contact, chat
Customer relations 
Newsletter
SEO
Social media
Lead management
Advertising
Hubspot
Click funnels
Digital nomad meetings



